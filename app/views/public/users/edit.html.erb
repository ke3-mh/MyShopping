<div class='container'>
  <div class='row'>
    <div class="col-sm-12 col-md-8 col-lg-5 px-5 px-sm-0 mx-auto">
    <h3 class="page-title px-3">ユーザー情報編集</h3>
    <%= render 'layouts/errors', obj: @user %>
    <div class="m-5", style="background-color: white; border: solid #DCDCDC; border-radius: 10px;">
      <br>
      <%= form_with model: @user, url: users_infomation_path do |f| %>

        <div class="form-group  px-3">
          <label for="Profile-image">プロフィール画像</label></br>
          <div class="text-center p-3">
            <%= image_tag @user.profile_image, id: "img_prev", style: "border-radius: 50%; width: 100px; height: 100px; object-fit:cover;"%>
          </div>
          <%= f.file_field :profile_image, placeholder: "プロフィール画像", accept: "image/*" %>

          <script type="text/javascript">
            $(function() {
              function readURL(input) {
                if (input.files && input.files[0]) {
                  var reader = new FileReader();
                  reader.onload = function (e) {
                    $('#img_prev').attr('src', e.target.result);
                  }
                  reader.readAsDataURL(input.files[0]);
                }
              }
              $("#user_profile_image").change(function() {
                readURL(this);
              });
            });
          </script>
        </div>
        <hr>

        <div class="form-group px-3">
          <br><label for="Name">ユーザー名</label>
          <%= f.text_field :name, class: "form-control name" %>
        </div>

        <div class="form-group px-3">
          <br><label for="Email">メールアドレス</label>
          <%= f.text_field :email, class: "form-control email" %>
        </div>

        <div class="form-group text-center">
          <%= f.submit "保存", class: 'btn btn-success' %>
        </div>
      <% end %>
    </div>
  </div>
</div>
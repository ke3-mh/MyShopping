<!DOCTYPE html>
<html>
  <head>
    <title>Myshopping</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_pack_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>
  <body>
    <%= render 'layouts/header' %>
    <main>
      <p id="notice"><%= notice %></p>
    </main>
    <%= yield %>
    <button class="js-backToTop">TOP</button>
  </body>
</html>



<script type="text/javascript">
  //要素を取得
  const button = document.querySelector('.js-backToTop');

  //クリックイベント
  button.addEventListener('click', () => {
    //ページ上部へスムーススクロール
    window.scroll({
      top: 0,
      behavior: "smooth"
    });
  });

  //スクロールイベント
  window.addEventListener('scroll', () => {
    //スクロール量を判定して要素にクラスを付与
    if(window.scrollY > 300){
      button.classList.add('is-active');
    }else{
      button.classList.remove('is-active');
    }
  });
</script>
